---
toc: true
layout: post
description: 함수형 코딩 1장
categories: [cs, fp]
title: (KR)01-함수형 코딩에 오신 것을 환영합니다.
---

에릭 노먼드의 [쏙쏙 들어오는 함수형 코딩](http://www.yes24.com/Product/Goods/108748841) 1장을 읽고, 정리한 페이지입니다.

---

## 함수형 프로그래밍은 무엇인가?

### 함수형 프로그래밍의 정의

- 수학 함수를 사용하고 부수 효과를 피하는 것이 특징인 프로그래밍 패러다임
    - 부수 효과(side effect): 함수가 결괏값을 반환하는 것 외에 하는 모든 행동
- 부수 효과 없이 순수 함수만 사용하는 프로그래밍 스타일
    - 순수 함수(pure function): 인자에만 의존하고, 부수 효과가 없는 함수

### 위와 같은 정의의 문제점

- 위와 같은 정의는 학문적인 가치는 있을지 모르지만, 실용적인 측면에서 함수형 프로그래밍을 이해하는 데는 큰 도움이 되지 않음.
    - 필요하다면, 부수 효과는 사용해야 함.
    - 순수하지 않은 함수 역시 필요한 경우에는 사용해야 함.
- 본 책에서는 함수형 프로그래밍을 “학문적"으로 다루지 않고, 현업에 당장 적용할 수 있는 “기술"과 “개념"을 전달하는데 초점을 둘 예정.

## 액션 vs. 계산 vs. 데이터

- 함수형 프로그래밍에서는 코드를 액션, 계산, 데이터 세 가지로 구분함.
- 세 가지 모두 필요하지만 장단점을 잘 알고 적절하게 쓰는 것이 중요함.
- 일반적으로 데이터 > 계산 > 액션 순으로 사용하기 쉬움.
    
| 구분 | 특징 | 예시                   |
| --- | --- | -------------------- |
| 액션(actions) | 실행 시점이나 횟수에 의존하기 때문에 신중하게 사용해야 함. | `sendEmail(to, from, subject, body)`: 이메일 전송 <br/> `saveUserDB(user)` : 사용자 정보를 데이터 베이스에 저장 <br/> `getCurrentTime()` : 현재 시간 반환 |
| 계산(calculations) | 입력값을 계산해 출력하는 것 <br/> 언제 호출해도 항상 같은 값을 반환함. | `sum(numbers)`: 입력 받은 숫자를 모두 더한 결과 반환 <br/> `string_length(str)`: 입력 받은 문자열의 길이 반환 |
| 데이터(data) | 이벤트에 대한 사실을 기록한 것 | `{"firstname": "Eric", "lastname": "Normand"}`: 사람에 대한 정보 <br/> `[1, 10, 2, 45, 3, 98]`: 숫자 리스트 |

    

### 시나리오로 살펴보는 액션 vs. 계산 vs. 데이터

- 프로젝트 관리를 위해 클라우드 서비스(여러 클라이언트가 작업 완료 표시를 하면 서버에서 이메일을 통해 알려주는 서비스)를 만든다고 가정
#### 1단계: 사용자가 작업 완료 표시를 함.
- 액션, 실행 횟수에 의존하기 때문
#### 2단계: 클라이언트가 서버로 메시지를 보냄.
- 메시지를 보내는 것은 액션이지만, 메시지 자체는 데이터
#### 3단계: 서버가 메시지를 받음.
- 액션, 횟수에 의존하기 때문
#### 4단계: 서버가 데이터베이스를 변경
- 액션, 내부 상태를 바꾸기 때문
#### 5단계: 서버가 누구에게 알림을 보낼지 결정
- 결정하는 것은 계산
#### 6단계: 서버가 이메일로 알림을 보냄
- 이메일 보내기는 액션. 결정(계산)과 결정된 내용을 전송(액션)하는 것은 다름.

### 액션 vs. 계산 vs. 데이터로 구분하는 것의 장점

- 여러 컴퓨터가 네트워크를 통해 통신하는 분산 시스템의 경우, 소프트웨어가 복잡해짐.
- 처리해야 할 메시지 순서가 섞이거나, 중복, 유실될 수도 있는데 실행 시점이나 횟수에 의존하는 코드를 데이터와 계산으로 바꿀수록 분산 시스템에서 생기는 여러 문제를 해결할 수 있음.

